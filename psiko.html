<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drill UTS Psikologi Pendidikan - Dark Mode</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --accent: #bb86fc;
            --correct: #03dac6;
            --wrong: #cf6679;
            --btn-hover: #2c2c2c;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 650px;
            padding: 20px;
        }

        /* Card Style */
        .game-card {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            transition: transform 0.3s ease;
        }

        h1 {
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 5px;
            color: var(--accent);
        }

        .subtitle {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        /* Progress Bar */
        .progress-track {
            background-color: #333;
            height: 6px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #9b59b6);
            width: 0%;
            transition: width 0.4s ease;
        }

        /* Question */
        .question-box {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 25px;
            line-height: 1.5;
            min-height: 80px;
            display: flex;
            align-items: center;
        }

        .category-tag {
            display: inline-block;
            background-color: #333;
            color: var(--accent);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-bottom: 8px;
            font-weight: bold;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            gap: 12px;
        }

        .option-btn {
            background-color: transparent;
            border: 2px solid #333;
            color: var(--text-main);
            padding: 15px 20px;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--accent);
            background-color: rgba(187, 134, 252, 0.05);
            transform: translateY(-2px);
        }

        .option-btn.correct {
            border-color: var(--correct);
            background-color: rgba(3, 218, 198, 0.1);
            color: var(--correct);
        }

        .option-btn.wrong {
            border-color: var(--wrong);
            background-color: rgba(207, 102, 121, 0.1);
            color: var(--wrong);
        }

        .option-btn:disabled {
            cursor: default;
        }

        /* Feedback Area */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            background-color: #252525;
            border-left: 4px solid var(--text-muted);
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .feedback.correct { border-left-color: var(--correct); }
        .feedback.wrong { border-left-color: var(--wrong); }

        .btn-next {
            margin-top: 20px;
            width: 100%;
            padding: 14px;
            background-color: var(--accent);
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            display: none;
        }
        .btn-next:hover { opacity: 0.9; }

        /* Result Screen */
        .result-screen {
            text-align: center;
            display: none;
        }
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 8px solid #333;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        .stat-box {
            background: #252525;
            padding: 15px;
            border-radius: 10px;
        }
        .stat-label { font-size: 0.8rem; color: var(--text-muted); }
        .stat-value { font-size: 1.5rem; font-weight: bold; }

        .action-btns {
            display: flex;
            gap: 10px;
        }
        .btn-primary, .btn-secondary {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        .btn-primary { background: var(--correct); color: #000; }
        .btn-secondary { background: #333; color: white; }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--correct);
            color: #000;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Mobile Responsive */
        @media (max-width: 480px) {
            .game-card { padding: 20px; }
            .question-box { font-size: 1rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="game-section" class="game-card">
        <h1>Psikologi Pendidikan</h1>
        <div class="subtitle">@yaelahramalagi</div>
        
        <div class="progress-track">
            <div class="progress-fill" id="progress-bar"></div>
        </div>

        <div id="question-container">
            <div id="category-badge" class="category-tag">Loading...</div>
            <div id="question-text" class="question-box">Memuat soal...</div>
            <div id="options-area" class="options-grid"></div>
        </div>

        <div id="feedback-display" class="feedback"></div>
        <button id="next-btn" class="btn-next" onclick="nextQuestion()">Lanjut</button>
    </div>

    <div id="result-section" class="game-card result-screen">
        <h1>Hasil Latihan</h1>
        <p class="subtitle">Persiapan UTS Psikologi Pendidikan</p>
        
        <div class="score-circle" id="final-score">0</div>
        
        <div class="stats-grid">
            <div class="stat-box">
                <div class="stat-label">Benar (1x Coba)</div>
                <div class="stat-value" id="clean-correct" style="color: var(--correct)">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Total Salah Klik</div>
                <div class="stat-value" id="total-wrong" style="color: var(--wrong)">0</div>
            </div>
        </div>

        <div class="action-btns">
            <button class="btn-secondary" onclick="location.reload()">üîÑ Ulangi</button>
            <button class="btn-primary" onclick="shareResult()">üì§ Share Result</button>
        </div>
    </div>
</div>

<div id="toast" class="toast">Hasil disalin ke clipboard!</div>

<script>
    // === DATA 30 SOAL ===
    const questionBank = [
        // 1. Definisi Pendidikan
        { c: "Definisi", q: "Apa arti etimologis dari 'Paedagogie'?", o: ["Ilmu menuntun anak", "Ilmu mengajar dewasa", "Pelatihan skill", "Sekolah formal"], a: 0, exp: "Paedagogie: Pais (anak) + Agogos (membimbing/menuntun)." },
        { c: "Definisi", q: "Pendidikan adalah usaha sadar dan terencana untuk mewujudkan suasana belajar. Ini definisi menurut?", o: ["Ki Hajar Dewantara", "UU No. 20 Tahun 2003", "John Dewey", "Aristoteles"], a: 1, exp: "Ini adalah bunyi definisi Pendidikan menurut UU Sisdiknas No. 20 Tahun 2003." },
        
        // 2. Jenis Pendidikan
        { c: "Jenis Pendidikan", q: "Jalur pendidikan yang terstruktur dan berjenjang (SD, SMP, Kuliah) disebut?", o: ["Informal", "Non-formal", "Formal", "Insidental"], a: 2, exp: "Pendidikan Formal adalah jalur sekolah/kampus yang berjenjang resmi." },
        { c: "Jenis Pendidikan", q: "Bimbel, Kursus Menjahit, dan Pelatihan Kerja termasuk jalur?", o: ["Formal", "Non-formal", "Informal", "Keluarga"], a: 1, exp: "Non-formal: Di luar sekolah formal tapi tetap terorganisir." },
        { c: "Jenis Pendidikan", q: "Pendidikan yang terjadi di keluarga sejak lahir disebut?", o: ["Formal", "Non-formal", "Informal", "Vokasi"], a: 2, exp: "Informal adalah pendidikan dalam keluarga dan lingkungan." },

        // 3. Pendidikan Transformasional
        { c: "Transformasional", q: "Tujuan utama pendidikan transformasional adalah?", o: ["Transfer pengetahuan saja", "Mencetak robot pekerja", "Perubahan fundamental (pola pikir & karakter)", "Mengejar nilai 100"], a: 2, exp: "Transformasional bertujuan mengubah (transform) individu menjadi lebih manusiawi dan kritis, bukan sekadar transfer ilmu." },
        { c: "Transformasional", q: "Dalam pendidikan transformasional, peran guru adalah?", o: ["Pusat segalanya", "Fasilitator & Agen Perubahan", "Pemberi hukuman", "Pembaca buku teks"], a: 1, exp: "Guru berfungsi memfasilitasi perubahan dan menjadi teladan (agen perubahan)." },

        // 4. Intelegensi/Kognisi/Metakognisi
        { c: "Konsep Dasar", q: "Potensi bawaan/kemampuan umum untuk memecahkan masalah disebut?", o: ["Intelegensi", "Emosi", "Afeksi", "Kognisi"], a: 0, exp: "Intelegensi adalah kapasitas umum/potensi." },
        { c: "Konsep Dasar", q: "Proses mental memperoleh pengetahuan (memahami, mengolah) disebut?", o: ["Intelegensi", "Kognisi", "Metakognisi", "Intuisi"], a: 1, exp: "Kognisi adalah proses mentalnya (aktualisasi)." },
        { c: "Konsep Dasar", q: "'Thinking about thinking' atau sadar bagaimana cara kita belajar adalah?", o: ["Kognisi", "Metakognisi", "Memori", "Persepsi"], a: 1, exp: "Metakognisi adalah kesadaran akan proses berpikir sendiri." },

        // 5. Ciri Ilmu Pengetahuan
        { c: "Ciri Ilmu", q: "Ilmu harus berdasarkan fakta yang dapat diamati, disebut?", o: ["Sistematis", "Empiris", "Objektif", "Universal"], a: 1, exp: "Empiris artinya berdasarkan pengalaman/pengamatan nyata." },
        { c: "Ciri Ilmu", q: "Ilmu tidak boleh dicampuri perasaan pribadi peneliti, harus apa adanya. Ini ciri?", o: ["Subjektif", "Objektif", "Analitis", "Verifikatif"], a: 1, exp: "Objektif artinya sesuai dengan objeknya/kenyataan, bukan opini." },

        // 6. Tokoh Intelegensi
        { c: "Tokoh", q: "Pencetus teori 'Multiple Intelligences' (Kecerdasan Majemuk) adalah?", o: ["Jean Piaget", "Alfred Binet", "Howard Gardner", "Sternberg"], a: 2, exp: "Howard Gardner mencetuskan 8 (kini 9) kecerdasan majemuk." },
        { c: "Tokoh", q: "Tokoh yang pertama kali mengembangkan tes IQ untuk anak sekolah di Prancis adalah?", o: ["Alfred Binet", "Gardner", "Freud", "Skinner"], a: 0, exp: "Alfred Binet mengembangkan tes IQ pertama untuk mengidentifikasi anak yang butuh bantuan khusus." },
        { c: "Tokoh", q: "Jean Piaget terkenal dengan teori perkembangan apa?", o: ["Psikoanalisis", "Kognitif", "Behavioristik", "Humanistik"], a: 1, exp: "Piaget adalah tokoh utama teori Perkembangan Kognitif anak." },

        // 7. Taksonomi Bloom
        { c: "Bloom", q: "Tingkatan terendah (C1) dalam Taksonomi Bloom Revisi adalah?", o: ["Mengingat", "Memahami", "Menerapkan", "Mencipta"], a: 0, exp: "C1: Mengingat (Remembering) - sekadar recall fakta." },
        { c: "Bloom", q: "Tingkatan tertinggi (C6) dalam Taksonomi Bloom Revisi adalah?", o: ["Evaluasi", "Sintesis", "Mencipta (Creating)", "Analisis"], a: 2, exp: "C6 Revisi adalah Mencipta (Creating). Di versi lama C6 adalah Evaluasi." },
        { c: "Bloom", q: "Kata kerja 'Menjelaskan dengan kata-kata sendiri' masuk kategori?", o: ["C1 Mengingat", "C2 Memahami", "C3 Menerapkan", "C6 Mencipta"], a: 1, exp: "Menjelaskan (Explain) adalah ciri utama C2 Memahami." },

        // 8. Memori
        { c: "Memori", q: "Memori yang durasinya sangat singkat (< 1 detik) mencatat input indra disebut?", o: ["Short Term Memory", "Sensory Memory", "Long Term Memory", "Working Memory"], a: 1, exp: "Sensory Memory merekam stimulus visual/audio sekilas saja." },
        { c: "Memori", q: "Kapasitas Short Term Memory (STM) terbatas pada sekitar berapa item?", o: ["Tak terbatas", "5-9 item (chunk)", "100 item", "1-2 item"], a: 1, exp: "Miller's Law: 7 plus minus 2 (5-9 chunks)." },
        { c: "Memori", q: "Agar masuk ke Long Term Memory (LTM), informasi harus melalui proses?", o: ["Dilupakan", "Pengulangan (Rehearsal) & Pemaknaan", "Dilihat sekilas", "Tidur"], a: 1, exp: "Informasi butuh elaborasi/pengulangan agar tersimpan permanen di LTM." },

        // 9. Kreatifitas
        { c: "Kreativitas", q: "Konsep 4P dalam kreativitas adalah Person, Process, Product, dan?", o: ["Price", "Press (Pendorong)", "Place", "Plan"], a: 1, exp: "4P: Person, Process, Press (lingkungan/dorongan), Product." },
        { c: "Kreativitas", q: "Berpikir menyebar, mencari banyak alternatif jawaban disebut berpikir?", o: ["Konvergen", "Divergen", "Logis", "Kritis"], a: 1, exp: "Divergen adalah ciri kreativitas (banyak ide). Konvergen mencari 1 jawaban benar." },
        { c: "Kreativitas", q: "Ciri produk kreatif adalah Baru (Novelty) dan?", o: ["Mahal", "Berguna/Bernilai", "Rumit", "Abstrak"], a: 1, exp: "Kreatif itu harus original DAN useful (berguna)." },

        // 10. Self Regulated Learning (SRL)
        { c: "SRL", q: "Dalam SRL, fase dimana siswa menetapkan target sebelum belajar disebut?", o: ["Forethought (Pemikiran Awal)", "Performance", "Self-Reflection", "Evaluasi"], a: 0, exp: "Forethought Phase: Fase perencanaan dan penetapan tujuan." },
        { c: "SRL", q: "Siswa yang memiliki SRL tinggi cenderung?", o: ["Bergantung pada guru", "Pasif", "Mandiri & Memonitor diri", "Malas"], a: 2, exp: "Inti SRL adalah kemandirian mengatur cara belajar." },
        { c: "SRL", q: "Evaluasi diri setelah belajar untuk perbaikan ke depan masuk fase?", o: ["Forethought", "Performance", "Self-Reflection", "Action"], a: 2, exp: "Self-Reflection terjadi setelah proses belajar selesai." },

        // 11. SCL vs TCL
        { c: "Metode Belajar", q: "Teacher Centered Learning (TCL) berfokus pada?", o: ["Aktivitas siswa", "Guru sebagai sumber utama", "Diskusi kelompok", "Proyek mandiri"], a: 1, exp: "TCL: Guru ceramah, siswa mendengarkan (pasif)." },
        { c: "Metode Belajar", q: "Student Centered Learning (SCL) menekankan pada?", o: ["Hafalan", "Keaktifan siswa membangun pengetahuan", "Kepatuhan mutlak", "Mencatat papan tulis"], a: 1, exp: "SCL: Siswa aktif (Active Learning/Konstruktivisme)." },
        { c: "Metode Belajar", q: "Manakah yang merupakan metode SCL?", o: ["Ceramah satu arah", "Problem Based Learning (PBL)", "Dikte", "Drilling pasif"], a: 1, exp: "PBL adalah contoh SCL karena siswa memecahkan masalah aktif." }
    ];

    // === GAME LOGIC ===
    let queue = [];
    let stats = {
        totalQuestions: 0,
        cleanCorrect: 0, // Benar pada percobaan pertama
        totalWrongClicks: 0
    };

    function initGame() {
        // Prepare questions with an extra property 'isFirstAttempt'
        queue = questionBank.map(q => ({...q, isFirstAttempt: true}));
        // Shuffle
        queue.sort(() => Math.random() - 0.5);
        
        stats.totalQuestions = questionBank.length;
        stats.cleanCorrect = 0;
        stats.totalWrongClicks = 0;

        updateProgress();
        loadQuestion();
    }

    function loadQuestion() {
        const gameSec = document.getElementById('game-section');
        const resSec = document.getElementById('result-section');
        const feedback = document.getElementById('feedback-display');
        const nextBtn = document.getElementById('next-btn');

        // Reset UI
        feedback.style.display = 'none';
        feedback.className = 'feedback';
        nextBtn.style.display = 'none';
        
        // Cek jika selesai
        if (queue.length === 0) {
            gameSec.style.display = 'none';
            resSec.style.display = 'block';
            showResult();
            return;
        }

        const currentQ = queue[0];
        
        // Render
        document.getElementById('category-badge').innerText = currentQ.c;
        document.getElementById('question-text').innerText = currentQ.q;
        
        const optContainer = document.getElementById('options-area');
        optContainer.innerHTML = '';

        currentQ.o.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => handleAnswer(idx, btn);
            optContainer.appendChild(btn);
        });
    }

    function handleAnswer(selectedIndex, btnEl) {
        const currentQ = queue[0];
        const allBtns = document.querySelectorAll('.option-btn');
        const feedback = document.getElementById('feedback-display');
        
        // Lock buttons
        allBtns.forEach(b => b.disabled = true);

        if (selectedIndex === currentQ.a) {
            // BENAR
            btnEl.classList.add('correct');
            feedback.innerHTML = `<strong>‚úÖ Asik bener</strong><br>${currentQ.exp}`;
            feedback.classList.add('correct');
            
            // Hitung statistik
            if (currentQ.isFirstAttempt) {
                stats.cleanCorrect++;
            }
            
            // Hapus dari antrean
            queue.shift();
        } else {
            // SALAH
            btnEl.classList.add('wrong');
            allBtns[currentQ.a].classList.add('correct'); // Show correct one
            
            feedback.innerHTML = `<strong>‚ùå Womp womp</strong><br>Jawaban: ${currentQ.o[currentQ.a]}<br><br><em>${currentQ.exp}</em><br><br>‚ö†Ô∏è <strong>Baca dulu ini, ntar muncul lg</strong>`;
            feedback.classList.add('wrong');
            
            // Update stats
            stats.totalWrongClicks++;
            currentQ.isFirstAttempt = false; // Tandai sudah pernah salah

            // Re-roll: Pindahkan ke belakang
            const wrongQ = queue.shift();
            queue.push(wrongQ);
        }

        feedback.style.display = 'block';
        document.getElementById('next-btn').style.display = 'block';
        updateProgress();
    }

    function nextQuestion() {
        loadQuestion();
    }

    function updateProgress() {
        // Progress bar berdasarkan berapa soal yang sudah SELESAI (dibuang dari queue)
        const completed = stats.totalQuestions - queue.length;
        const pct = (completed / stats.totalQuestions) * 100;
        document.getElementById('progress-bar').style.width = `${pct}%`;
    }

    function showResult() {
        // Kalkulasi Nilai: (Benar murni / Total Soal) * 100
        const score = Math.round((stats.cleanCorrect / stats.totalQuestions) * 100);
        
        document.getElementById('final-score').innerText = score;
        document.getElementById('clean-correct').innerText = `${stats.cleanCorrect} / ${stats.totalQuestions}`;
        document.getElementById('total-wrong').innerText = stats.totalWrongClicks;
        
        // Warna score ring
        const circle = document.getElementById('final-score');
        if(score >= 85) circle.style.borderColor = 'var(--correct)';
        else if(score >= 70) circle.style.borderColor = '#f1c40f';
        else circle.style.borderColor = 'var(--wrong)';
    }

    function shareResult() {
        const score = document.getElementById('final-score').innerText;
        const wrong = stats.totalWrongClicks;
        const text = `*Quiz Psikologi Pendidikan*\n\nSkor Akhir: ${score}/100\nTotal Salah: ${wrong}x\n`;
        
        navigator.clipboard.writeText(text).then(() => {
            const toast = document.getElementById('toast');
            toast.style.opacity = '1';
            setTimeout(() => { toast.style.opacity = '0'; }, 2000);
        });
    }

    // Start
    initGame();
</script>

</body>
</html>
